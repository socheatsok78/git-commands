#!/usr/bin/env sh

run_hook() {
	if [ "$(command -v git-runhook)" ]; then
		git runhook "$@"
	fi
}

run_buildpack() {
	if [ "$(command -v git-buildpack)" ]; then
		git buildpack "$@"
	fi
}

if [ ! -z "$@" ]
then
	git worktree add "$@"
	run_buildpack "$1"
	run_hook "$1" "post-checkout"
else
	echo "Please specify a branch to checkout!"
	exit 1
fi
